schema: '2.0'
stages:
  data_cleaning:
    cmd: python src\data\data_cleaning.py
    outs:
    - path: data/cleaned
      hash: md5
      md5: 17f0a83c97d136373f27b05c1a32aeb2.dir
      size: 4508527
      nfiles: 1
  data_preparation:
    cmd: python src/data/data_preparation.py
    deps:
    - path: data/cleaned/swiggy_cleaned.csv
      hash: md5
      md5: 4918716e52fc57babdcd400dfb3c3f29
      size: 4508527
    - path: src\data\data_cleaning.py
      hash: md5
      md5: f83d9bb97796ebbdec1f0d6fc3cc55e3
      size: 8830
    - path: src\data\data_preparation.py
      hash: md5
      md5: 5d92c4fc7524a0db99216d0f5f4efaeb
      size: 1974
    outs:
    - path: data/interim
      hash: md5
      md5: 9dc8ff6920aea1feb3d2f4a2b6d1d0cb.dir
      size: 4505569
      nfiles: 2
  data_preprocessing:
    cmd: python src/features/data_preprocessing.py
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: 20172ab330931a534fcb3fb75bf1b77a
      size: 901132
    - path: data/interim/train.csv
      hash: md5
      md5: 08e8f74451482dfdf2f472e94acb5993
      size: 3604437
    - path: src\data\data_preparation.py
      hash: md5
      md5: 5d92c4fc7524a0db99216d0f5f4efaeb
      size: 1974
    - path: src\features\data_preprocessing.py
      hash: md5
      md5: 6f44ea36f476964c54c776f4dfc7c567
      size: 5380
    outs:
    - path: data/processed/test_trans.csv
      hash: md5
      md5: 3872e26908d4fb01ab48e1cf3c33b7a3
      size: 1247616
    - path: data/processed/train_trans.csv
      hash: md5
      md5: c6c7e382376669eb4ed4bf21a00b10e3
      size: 4956431
    - path: models/preprocessor.joblib
      hash: md5
      md5: abfc472e731f722b720c031686466bb2
      size: 7292
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train_trans.csv
      hash: md5
      md5: c6c7e382376669eb4ed4bf21a00b10e3
      size: 4956431
    - path: src/models/train.py
      hash: md5
      md5: a53709454fdb470db69121759509e286
      size: 3511
    params:
      params.yaml:
        train.lightgbm:
          learning_rate: 0.05597085845487942
          num_leaves: 85
          feature_fraction: 0.8475689756385575
          bagging_fraction: 0.845652828843328
          bagging_freq: 2
          max_depth: 36
          min_data_in_leaf: 62
          lambda_l1: 0.0038672702290316607
          lambda_l2: 0.6632645081461954
        train.random_forest:
          n_estimators: 542
          max_depth: 17
          min_samples_split: 15
          min_samples_leaf: 10
          bootstrap: true
    outs:
    - path: models/power_transformer.joblib
      hash: md5
      md5: 745137997ff81066d277b6399b635e77
      size: 837
    - path: models/stacking_regressor.joblib
      hash: md5
      md5: d458958d78a84388b4751a5b975dff86
      size: 112707322
    - path: models\model.joblib
      hash: md5
      md5: 713ac69c11c2de754b019b2d4768ca33
      size: 112728664
  evaluation:
    cmd: python src/models/evaluation.py
    deps:
    - path: data/processed/test_trans.csv
      hash: md5
      md5: 3872e26908d4fb01ab48e1cf3c33b7a3
      size: 1247616
    - path: data/processed/train_trans.csv
      hash: md5
      md5: c6c7e382376669eb4ed4bf21a00b10e3
      size: 4956431
    - path: models/model.joblib
      hash: md5
      md5: 713ac69c11c2de754b019b2d4768ca33
      size: 112728664
    - path: src/models/evaluation.py
      hash: md5
      md5: 206c77ccfb877d087f3913d9098c04db
      size: 4403
    outs:
    - path: run_information.json
      hash: md5
      md5: e579161eace6bc7ef61fb33c5cd463d3
      size: 220
  register_model:
    cmd: python src/models/register_model.py
    deps:
    - path: run_information.json
      hash: md5
      md5: e579161eace6bc7ef61fb33c5cd463d3
      size: 220
    - path: src/models/register_model.py
      hash: md5
      md5: abf89073cf2c2206c12cb4bf2632c183
      size: 1633
